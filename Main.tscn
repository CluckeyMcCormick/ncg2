[gd_scene load_steps=18 format=2]

[ext_resource path="res://AutoBuilding.gd" type="Script" id=2]
[ext_resource path="res://Main.gd" type="Script" id=4]
[ext_resource path="res://materials/BuildingMaterialLight.tres" type="Material" id=5]

[sub_resource type="PlaneMesh" id=1]

[sub_resource type="ArrayMesh" id=12]
surfaces/0 = {
"aabb": AABB( -0.0625, 0, -0.0625, 0.125, 0.671875, 9.99868e-06 ),
"array_data": PoolByteArray( 0, 0, 128, 189, 0, 0, 0, 0, 0, 0, 128, 189, 0, 0, 129, 0, 127, 0, 0, 129, 0, 0, 64, 183, 0, 0, 128, 61, 0, 0, 44, 63, 0, 0, 128, 189, 0, 0, 129, 0, 127, 0, 0, 129, 0, 48, 128, 188, 0, 0, 128, 189, 0, 0, 44, 63, 0, 0, 128, 189, 0, 0, 129, 0, 127, 0, 0, 129, 0, 0, 128, 188, 0, 0, 128, 189, 0, 0, 0, 0, 0, 0, 128, 189, 0, 0, 129, 0, 127, 0, 0, 129, 0, 0, 64, 183, 0, 0, 128, 61, 0, 0, 0, 0, 0, 0, 128, 189, 0, 0, 129, 0, 127, 0, 0, 129, 0, 48, 64, 183, 0, 0, 128, 61, 0, 0, 44, 63, 0, 0, 128, 189, 0, 0, 129, 0, 127, 0, 0, 129, 0, 48, 128, 188 ),
"array_index_data": PoolByteArray(  ),
"blend_shape_data": [  ],
"format": 97303,
"index_count": 0,
"material": ExtResource( 5 ),
"primitive": 4,
"skeleton_aabb": [  ],
"vertex_count": 6
}

[sub_resource type="ArrayMesh" id=13]
surfaces/0 = {
"aabb": AABB( -0.0625, 0, 0.0625, 0.125, 0.671885, 9.99868e-06 ),
"array_data": PoolByteArray( 0, 0, 128, 189, 0, 0, 44, 63, 0, 0, 128, 61, 0, 0, 127, 0, 127, 0, 0, 127, 0, 47, 128, 186, 0, 0, 128, 61, 0, 0, 0, 0, 0, 0, 128, 61, 0, 0, 127, 0, 127, 0, 0, 127, 128, 51, 128, 176, 0, 0, 128, 189, 0, 0, 0, 0, 0, 0, 128, 61, 0, 0, 127, 0, 127, 0, 0, 127, 0, 47, 128, 176, 0, 0, 128, 189, 0, 0, 44, 63, 0, 0, 128, 61, 0, 0, 127, 0, 127, 0, 0, 127, 0, 47, 128, 186, 0, 0, 128, 61, 0, 0, 44, 63, 0, 0, 128, 61, 0, 0, 127, 0, 127, 0, 0, 127, 128, 51, 128, 186, 0, 0, 128, 61, 0, 0, 0, 0, 0, 0, 128, 61, 0, 0, 127, 0, 127, 0, 0, 127, 128, 51, 128, 176 ),
"array_index_data": PoolByteArray(  ),
"blend_shape_data": [  ],
"format": 97303,
"index_count": 0,
"material": ExtResource( 5 ),
"primitive": 4,
"skeleton_aabb": [  ],
"vertex_count": 6
}

[sub_resource type="ArrayMesh" id=14]
surfaces/0 = {
"aabb": AABB( 0.0625, 0, -0.0625, 9.99868e-06, 0.671875, 0.125 ),
"array_data": PoolByteArray( 0, 0, 128, 61, 0, 0, 0, 0, 0, 0, 128, 189, 127, 0, 0, 0, 0, 0, 127, 129, 0, 46, 224, 186, 0, 0, 128, 61, 0, 0, 44, 63, 0, 0, 128, 61, 127, 0, 0, 0, 0, 0, 127, 129, 0, 51, 32, 190, 0, 0, 128, 61, 0, 0, 44, 63, 0, 0, 128, 189, 127, 0, 0, 0, 0, 0, 127, 129, 0, 46, 32, 190, 0, 0, 128, 61, 0, 0, 0, 0, 0, 0, 128, 189, 127, 0, 0, 0, 0, 0, 127, 129, 0, 46, 224, 186, 0, 0, 128, 61, 0, 0, 0, 0, 0, 0, 128, 61, 127, 0, 0, 0, 0, 0, 127, 129, 0, 51, 224, 186, 0, 0, 128, 61, 0, 0, 44, 63, 0, 0, 128, 61, 127, 0, 0, 0, 0, 0, 127, 129, 0, 51, 32, 190 ),
"array_index_data": PoolByteArray(  ),
"blend_shape_data": [  ],
"format": 97303,
"index_count": 0,
"material": ExtResource( 5 ),
"primitive": 4,
"skeleton_aabb": [  ],
"vertex_count": 6
}

[sub_resource type="ArrayMesh" id=15]
surfaces/0 = {
"aabb": AABB( -0.0625, 0, -0.0625, 9.99868e-06, 0.671885, 0.125 ),
"array_data": PoolByteArray( 0, 0, 128, 189, 0, 0, 44, 63, 0, 0, 128, 189, 129, 0, 0, 0, 0, 0, 127, 127, 32, 56, 96, 190, 0, 0, 128, 189, 0, 0, 0, 0, 0, 0, 128, 61, 129, 0, 0, 0, 0, 0, 127, 127, 32, 57, 96, 187, 0, 0, 128, 189, 0, 0, 0, 0, 0, 0, 128, 189, 129, 0, 0, 0, 0, 0, 127, 127, 32, 56, 96, 187, 0, 0, 128, 189, 0, 0, 44, 63, 0, 0, 128, 189, 129, 0, 0, 0, 0, 0, 127, 127, 32, 56, 96, 190, 0, 0, 128, 189, 0, 0, 44, 63, 0, 0, 128, 61, 129, 0, 0, 0, 0, 0, 127, 127, 32, 57, 96, 190, 0, 0, 128, 189, 0, 0, 0, 0, 0, 0, 128, 61, 129, 0, 0, 0, 0, 0, 127, 127, 32, 57, 96, 187 ),
"array_index_data": PoolByteArray(  ),
"blend_shape_data": [  ],
"format": 97303,
"index_count": 0,
"material": ExtResource( 5 ),
"primitive": 4,
"skeleton_aabb": [  ],
"vertex_count": 6
}

[sub_resource type="ArrayMesh" id=16]
surfaces/0 = {
"aabb": AABB( -0.0625, 0.671875, -0.0625, 0.125, 1.00136e-05, 0.125 ),
"array_data": PoolByteArray( 0, 0, 128, 189, 0, 0, 44, 63, 0, 0, 128, 189, 0, 127, 0, 0, 127, 0, 0, 127, 0, 0, 0, 0, 0, 0, 128, 61, 0, 0, 44, 63, 0, 0, 128, 61, 0, 127, 0, 0, 127, 0, 0, 127, 0, 0, 0, 0, 0, 0, 128, 189, 0, 0, 44, 63, 0, 0, 128, 61, 0, 127, 0, 0, 127, 0, 0, 127, 0, 0, 0, 0, 0, 0, 128, 189, 0, 0, 44, 63, 0, 0, 128, 189, 0, 127, 0, 0, 127, 0, 0, 127, 0, 0, 0, 0, 0, 0, 128, 61, 0, 0, 44, 63, 0, 0, 128, 189, 0, 127, 0, 0, 127, 0, 0, 127, 0, 0, 0, 0, 0, 0, 128, 61, 0, 0, 44, 63, 0, 0, 128, 61, 0, 127, 0, 0, 127, 0, 0, 127, 0, 0, 0, 0 ),
"array_index_data": PoolByteArray(  ),
"blend_shape_data": [  ],
"format": 97303,
"index_count": 0,
"material": ExtResource( 5 ),
"primitive": 4,
"skeleton_aabb": [  ],
"vertex_count": 6
}

[sub_resource type="Shader" id=28]
code = "shader_type spatial;
render_mode blend_mix,depth_draw_opaque,cull_back,diffuse_burley,specular_schlick_ggx;
uniform vec4 albedo : hint_color;
uniform sampler2D texture_albedo : hint_albedo;
uniform float specular;
uniform float metallic;
uniform float roughness : hint_range(0,1);
uniform float point_size : hint_range(0,128);
uniform vec3 uv1_scale;
uniform vec3 uv1_offset;
uniform vec3 uv2_scale;
uniform vec3 uv2_offset;


void vertex() {
	UV=UV*uv1_scale.xy+uv1_offset.xy;
}




void fragment() {
	vec2 base_uv = UV;
	vec4 albedo_tex = texture(texture_albedo,base_uv);
	ALBEDO = albedo.rgb * albedo_tex.rgb;
	METALLIC = metallic;
	ROUGHNESS = roughness;
	SPECULAR = specular;
}
"

[sub_resource type="ShaderMaterial" id=29]
shader = SubResource( 28 )
shader_param/albedo = Color( 1, 1, 1, 1 )
shader_param/specular = 1.0
shader_param/metallic = 1.0
shader_param/roughness = 1.0
shader_param/point_size = 1.0
shader_param/uv1_scale = Vector3( 1, 1, 1 )
shader_param/uv1_offset = Vector3( 0, 0, 0 )
shader_param/uv2_scale = Vector3( 1, 1, 1 )
shader_param/uv2_offset = Vector3( 0, 0, 0 )

[sub_resource type="SpatialMaterial" id=22]
transmission_enabled = true
transmission = Color( 1, 0, 0, 1 )
refraction_enabled = true
refraction_scale = 0.05
refraction_texture_channel = 0

[sub_resource type="ArrayMesh" id=23]
surfaces/0 = {
"aabb": AABB( -0.0625, 0, -0.0625, 0.125, 0.65625, 9.99868e-06 ),
"array_data": PoolByteArray( 0, 0, 128, 189, 0, 0, 0, 0, 0, 0, 128, 189, 0, 0, 129, 0, 127, 0, 0, 129, 224, 56, 128, 181, 0, 0, 128, 61, 0, 0, 40, 63, 0, 0, 128, 189, 0, 0, 129, 0, 127, 0, 0, 129, 224, 57, 0, 188, 0, 0, 128, 189, 0, 0, 40, 63, 0, 0, 128, 189, 0, 0, 129, 0, 127, 0, 0, 129, 224, 56, 0, 188, 0, 0, 128, 189, 0, 0, 0, 0, 0, 0, 128, 189, 0, 0, 129, 0, 127, 0, 0, 129, 224, 56, 128, 181, 0, 0, 128, 61, 0, 0, 0, 0, 0, 0, 128, 189, 0, 0, 129, 0, 127, 0, 0, 129, 224, 57, 128, 181, 0, 0, 128, 61, 0, 0, 40, 63, 0, 0, 128, 189, 0, 0, 129, 0, 127, 0, 0, 129, 224, 57, 0, 188 ),
"array_index_data": PoolByteArray(  ),
"blend_shape_data": [  ],
"format": 97303,
"index_count": 0,
"material": SubResource( 22 ),
"primitive": 4,
"skeleton_aabb": [  ],
"vertex_count": 6
}

[sub_resource type="ArrayMesh" id=24]
surfaces/0 = {
"aabb": AABB( -0.0625, 0, 0.0625, 0.125, 0.65626, 9.99868e-06 ),
"array_data": PoolByteArray( 0, 0, 128, 189, 0, 0, 40, 63, 0, 0, 128, 61, 0, 0, 127, 0, 127, 0, 0, 127, 128, 52, 16, 190, 0, 0, 128, 61, 0, 0, 0, 0, 0, 0, 128, 61, 0, 0, 127, 0, 127, 0, 0, 127, 128, 54, 224, 186, 0, 0, 128, 189, 0, 0, 0, 0, 0, 0, 128, 61, 0, 0, 127, 0, 127, 0, 0, 127, 128, 52, 224, 186, 0, 0, 128, 189, 0, 0, 40, 63, 0, 0, 128, 61, 0, 0, 127, 0, 127, 0, 0, 127, 128, 52, 16, 190, 0, 0, 128, 61, 0, 0, 40, 63, 0, 0, 128, 61, 0, 0, 127, 0, 127, 0, 0, 127, 128, 54, 16, 190, 0, 0, 128, 61, 0, 0, 0, 0, 0, 0, 128, 61, 0, 0, 127, 0, 127, 0, 0, 127, 128, 54, 224, 186 ),
"array_index_data": PoolByteArray(  ),
"blend_shape_data": [  ],
"format": 97303,
"index_count": 0,
"material": SubResource( 22 ),
"primitive": 4,
"skeleton_aabb": [  ],
"vertex_count": 6
}

[sub_resource type="ArrayMesh" id=25]
surfaces/0 = {
"aabb": AABB( 0.0625, 0, -0.0625, 9.99868e-06, 0.65625, 0.125 ),
"array_data": PoolByteArray( 0, 0, 128, 61, 0, 0, 0, 0, 0, 0, 128, 189, 127, 0, 0, 0, 0, 0, 127, 129, 192, 53, 224, 184, 0, 0, 128, 61, 0, 0, 40, 63, 0, 0, 128, 61, 127, 0, 0, 0, 0, 0, 127, 129, 192, 55, 16, 189, 0, 0, 128, 61, 0, 0, 40, 63, 0, 0, 128, 189, 127, 0, 0, 0, 0, 0, 127, 129, 192, 53, 16, 189, 0, 0, 128, 61, 0, 0, 0, 0, 0, 0, 128, 189, 127, 0, 0, 0, 0, 0, 127, 129, 192, 53, 224, 184, 0, 0, 128, 61, 0, 0, 0, 0, 0, 0, 128, 61, 127, 0, 0, 0, 0, 0, 127, 129, 192, 55, 224, 184, 0, 0, 128, 61, 0, 0, 40, 63, 0, 0, 128, 61, 127, 0, 0, 0, 0, 0, 127, 129, 192, 55, 16, 189 ),
"array_index_data": PoolByteArray(  ),
"blend_shape_data": [  ],
"format": 97303,
"index_count": 0,
"material": SubResource( 22 ),
"primitive": 4,
"skeleton_aabb": [  ],
"vertex_count": 6
}

[sub_resource type="ArrayMesh" id=26]
surfaces/0 = {
"aabb": AABB( -0.0625, 0, -0.0625, 9.99868e-06, 0.65626, 0.125 ),
"array_data": PoolByteArray( 0, 0, 128, 189, 0, 0, 40, 63, 0, 0, 128, 189, 129, 0, 0, 0, 0, 0, 127, 127, 32, 59, 224, 186, 0, 0, 128, 189, 0, 0, 0, 0, 0, 0, 128, 61, 129, 0, 0, 0, 0, 0, 127, 127, 16, 60, 128, 178, 0, 0, 128, 189, 0, 0, 0, 0, 0, 0, 128, 189, 129, 0, 0, 0, 0, 0, 127, 127, 32, 59, 128, 178, 0, 0, 128, 189, 0, 0, 40, 63, 0, 0, 128, 189, 129, 0, 0, 0, 0, 0, 127, 127, 32, 59, 224, 186, 0, 0, 128, 189, 0, 0, 40, 63, 0, 0, 128, 61, 129, 0, 0, 0, 0, 0, 127, 127, 16, 60, 224, 186, 0, 0, 128, 189, 0, 0, 0, 0, 0, 0, 128, 61, 129, 0, 0, 0, 0, 0, 127, 127, 16, 60, 128, 178 ),
"array_index_data": PoolByteArray(  ),
"blend_shape_data": [  ],
"format": 97303,
"index_count": 0,
"material": SubResource( 22 ),
"primitive": 4,
"skeleton_aabb": [  ],
"vertex_count": 6
}

[sub_resource type="ArrayMesh" id=27]
surfaces/0 = {
"aabb": AABB( -0.0625, 0.65625, -0.0625, 0.125, 1.00136e-05, 0.125 ),
"array_data": PoolByteArray( 0, 0, 128, 189, 0, 0, 40, 63, 0, 0, 128, 189, 0, 127, 0, 0, 127, 0, 0, 127, 0, 0, 0, 0, 0, 0, 128, 61, 0, 0, 40, 63, 0, 0, 128, 61, 0, 127, 0, 0, 127, 0, 0, 127, 0, 0, 0, 0, 0, 0, 128, 189, 0, 0, 40, 63, 0, 0, 128, 61, 0, 127, 0, 0, 127, 0, 0, 127, 0, 0, 0, 0, 0, 0, 128, 189, 0, 0, 40, 63, 0, 0, 128, 189, 0, 127, 0, 0, 127, 0, 0, 127, 0, 0, 0, 0, 0, 0, 128, 61, 0, 0, 40, 63, 0, 0, 128, 189, 0, 127, 0, 0, 127, 0, 0, 127, 0, 0, 0, 0, 0, 0, 128, 61, 0, 0, 40, 63, 0, 0, 128, 61, 0, 127, 0, 0, 127, 0, 0, 127, 0, 0, 0, 0 ),
"array_index_data": PoolByteArray(  ),
"blend_shape_data": [  ],
"format": 97303,
"index_count": 0,
"material": SubResource( 22 ),
"primitive": 4,
"skeleton_aabb": [  ],
"vertex_count": 6
}

[node name="Main" type="Spatial"]
script = ExtResource( 4 )

[node name="AutoBuilding" type="Spatial" parent="."]
transform = Transform( 10, -1.43584e-28, -6.3573e-07, 0, 10, -2.25857e-21, 6.3573e-07, 2.25857e-21, 10, -2.60649e-07, 5.96046e-08, 0 )
script = ExtResource( 2 )
building_material = ExtResource( 5 )
len_y = 43

[node name="MeshInstance" type="MeshInstance" parent="AutoBuilding"]
mesh = SubResource( 1 )
material/0 = null

[node name="ZNeg" type="MeshInstance" parent="AutoBuilding"]
mesh = SubResource( 12 )
material/0 = null

[node name="ZPos" type="MeshInstance" parent="AutoBuilding"]
mesh = SubResource( 13 )
material/0 = null

[node name="XNeg" type="MeshInstance" parent="AutoBuilding"]
mesh = SubResource( 14 )
material/0 = null

[node name="XPos" type="MeshInstance" parent="AutoBuilding"]
mesh = SubResource( 15 )
material/0 = null

[node name="YTop" type="MeshInstance" parent="AutoBuilding"]
mesh = SubResource( 16 )
material/0 = null

[node name="AutoBuilding2" type="Spatial" parent="."]
transform = Transform( 10, -1.43584e-28, -6.3573e-07, 0, 10, -2.25857e-21, 6.3573e-07, 2.25857e-21, 10, 1.5, 5.96046e-08, 2 )
script = ExtResource( 2 )
building_material = SubResource( 29 )
len_y = 42

[node name="MeshInstance" type="MeshInstance" parent="AutoBuilding2"]
mesh = SubResource( 1 )
material/0 = null

[node name="ZNeg" type="MeshInstance" parent="AutoBuilding2"]
mesh = SubResource( 23 )
material/0 = null

[node name="ZPos" type="MeshInstance" parent="AutoBuilding2"]
mesh = SubResource( 24 )
material/0 = null

[node name="XNeg" type="MeshInstance" parent="AutoBuilding2"]
mesh = SubResource( 25 )
material/0 = null

[node name="XPos" type="MeshInstance" parent="AutoBuilding2"]
mesh = SubResource( 26 )
material/0 = null

[node name="YTop" type="MeshInstance" parent="AutoBuilding2"]
mesh = SubResource( 27 )
material/0 = null

[node name="Spin" type="Spatial" parent="."]

[node name="PrimaryCamera" type="Camera" parent="Spin"]
transform = Transform( -1, 3.27491e-08, 8.1057e-08, 0, 0.927184, -0.374606, -8.74228e-08, -0.374606, -0.927184, 0, 0.8, -4.1 )
cull_mask = 3
current = true
fov = 80.0
size = 5.0

[node name="OmniLight" type="OmniLight" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.932956, 0.5, -1.28284 )
light_color = Color( 1, 0.309804, 0.411765, 1 )
light_energy = 3.0
shadow_enabled = true
omni_attenuation = 6.06285

[node name="Tween" type="Tween" parent="."]
repeat = true
playback/repeat = true

[node name="SpotLight" type="SpotLight" parent="."]
transform = Transform( -0.866026, 0, -0.5, 0, 1, 0, 0.5, 0, -0.866026, 0.0670799, 0.5, -2 )
light_color = Color( 0.992157, 1, 0, 1 )
light_energy = 3.0
shadow_enabled = true
spot_range = 7.64495
spot_attenuation = 2.0
spot_angle_attenuation = 0.5
